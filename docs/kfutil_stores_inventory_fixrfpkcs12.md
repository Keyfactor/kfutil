## kfutil stores inventory fixrfpkcs12

Fix RFPKCS12 stores that contain 2 or more leaf certificates. This will remove all but the most recently issued
certificate based on certificate `NotBefore` information.

### Synopsis

Fix RFPKCS12 stores that contain 2 or more leaf certificates.
This will *remove all but the most recently issued certificate* based on certificate 'NotBefore' information.
The command will output a CSV file with the following columns:

- StoreId
- StorePath
- Action
- Alias
- IssuedDN
- Thumbprint
- IssuedDate
- ExpiryDate
- CertId

The 'Action' column will be set to 'REMOVE' for all certificates except the most recently issued certificate.
The CSV file can be reviewed and modified and can be passed to the command with the --file option.
The command will read the CSV file and schedule remove jobs as specified in the file where the 'Action' column is "
REMOVE".

Alternatively the command can be run without the '--file' option if desired.

In both cases the '--force' flag is required to actually schedule the remove jobs for the certificates from the
stores. This *cannot* be undone and should be used with caution.

```
kfutil stores inventory fixrfpkcs12 [flags]
```

### Examples

```

# The below will create a CSV file that can be reviewed and modified before running the command with the --file option.
kfutil stores inventory fixrfpkcs12 --exp

# The below will read the CSV file and schedule remove jobs as specified in the file where the 'Action' col is "REMOVE".
# The --force flag is *required* to actually schedule the remove jobs for the certificates.
kfutil stores inventory fixrfpkcs12 --file rfpkcs12_fix.csv --force --exp

```

### Options

```
      --file string   CSV file to import for RFPKCS12 store fix.
      --force         Force the removal of the certificate(s) without prompting for confirmation.
  -h, --help          help for fixrfpkcs12
```

### Options inherited from parent commands

```
      --api-path string                API Path to use for authenticating to Keyfactor Command. (default is KeyfactorAPI) (default "KeyfactorAPI")
      --auth-provider-profile string   The profile to use defined in the securely stored config. If not specified the config named 'default' will be used if it exists. (default "default")
      --auth-provider-type string      Provider type choices: (azid)
      --config string                  Full path to config file in JSON format. (default is $HOME/.keyfactor/command_config.json)
      --debug                          Enable debugFlag logging.
      --domain string                  Domain to use for authenticating to Keyfactor Command.
      --exp                            Enable expEnabled features. (USE AT YOUR OWN RISK, these features are not supported and may change or be removed at any time.)
      --format text                    How to format the CLI output. Currently only text is supported. (default "text")
      --hostname string                Hostname to use for authenticating to Keyfactor Command.
      --log-insecure                   Log insecure API requests. (USE AT YOUR OWN RISK, this WILL log sensitive information to the console.)
      --no-prompt                      Do not prompt for any user input and assume defaults or environmental variables are set.
      --offline                        Will not attempt to connect to GitHub for latest release information and resources.
      --password string                Password to use for authenticating to Keyfactor Command. WARNING: Remember to delete your console history if providing kfcPassword here in plain text.
      --profile string                 Use a specific profile from your config file. If not specified the config named 'default' will be used if it exists.
      --username string                Username to use for authenticating to Keyfactor Command.
```

### SEE ALSO

* [kfutil stores inventory](kfutil_stores_inventory.md)     - Commands related to certificate store inventory management

###### Auto generated by spf13/cobra on 23-Oct-2024
